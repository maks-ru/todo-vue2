(function(t){function e(e){for(var s,r,i=e[0],c=e[1],n=e[2],u=0,p=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return l.push.apply(l,n||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(s=!1)}s&&(l.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},o={app:0},l=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/todo-vue2/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var n=0;n<i.length;n++)e(i[n]);var d=c;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0a74":function(t,e,a){},"2fc4":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Home")],1)},l=[],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("h1",[t._v("Список задач")]),e("TodoFilters"),e("ul",{staticClass:"task-list"},t._l(t.filteredTasks,(function(a){return e("TodoItem",{key:a.id,attrs:{task:a},on:{edit:t.editTask,update:t.updateTask,delete:function(e){return t.deleteTask(a.id)}}})})),1),e("div",{staticClass:"buttons"},[e("button",{on:{click:t.openModal}},[t._v("Добавить задачу")]),e("button",{on:{click:t.clearCompleted}},[t._v("Удалить выполненные")])]),t.showModal?e("TodoModal",{attrs:{task:t.selectedTask},on:{close:t.closeModal,save:t.saveTask}}):t._e()],1)},i=[],c=function(){var t=this,e=t._self._c;return e("li",{staticClass:"todo-item",class:{completed:t.task.completed}},[e("div",{staticClass:"content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.task.completed,expression:"task.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.task.completed)?t._i(t.task.completed,null)>-1:t.task.completed},on:{change:[function(e){var a=t.task.completed,s=e.target,o=!!s.checked;if(Array.isArray(a)){var l=null,r=t._i(a,l);s.checked?r<0&&t.$set(t.task,"completed",a.concat([l])):r>-1&&t.$set(t.task,"completed",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.task,"completed",o)},function(e){return t.$emit("update",t.task)}]}}),e("span",[t._v(t._s(t.task.title))])]),e("div",{staticClass:"actions"},[e("button",{on:{click:function(e){return t.$emit("edit",t.task)}}},[t._v("✏️")]),e("button",{on:{click:function(e){return t.$emit("delete")}}},[t._v("🗑️")])])])},n=[],d={props:["task"],data(){return{localCompleted:this.task.completed}},watch:{task:{handler(t){this.localCompleted=t.completed},deep:!0}},methods:{toggle(){this.$emit("edit",{...this.task,completed:this.localCompleted})}}},u=d,p=(a("fe86"),a("2877")),f=Object(p["a"])(u,c,n,!1,null,"dbb789e4",null),m=f.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-overlay",on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("close")}}},[e("div",{staticClass:"modal"},[e("h3",[t._v(t._s(t.task&&t.task.id?"Редактировать":"Новая")+" задача")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.localTask.title,expression:"localTask.title"}],attrs:{placeholder:"Введите название"},domProps:{value:t.localTask.title},on:{input:function(e){e.target.composing||t.$set(t.localTask,"title",e.target.value)}}}),e("div",{staticClass:"modal-actions"},[e("button",{on:{click:function(e){return t.$emit("close")}}},[t._v("Отмена")]),e("button",{on:{click:t.save}},[t._v("Сохранить")])])])])},k=[],v={props:["task"],data(){return{localTask:{...this.task}||{title:""}}},watch:{task:{immediate:!0,handler(t){this.localTask={...t}||{title:""}}}},methods:{save(){this.localTask.title.trim()?this.$emit("save",this.localTask):alert("Название не должно быть пустым")}}},T=v,b=(a("722f"),Object(p["a"])(T,h,k,!1,null,"3d996656",null)),_=b.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filters"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Поиск задач..."},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.updateSearch]}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filter=e.target.multiple?a:a[0]},t.updateFilter]}},[e("option",{attrs:{value:"all"}},[t._v("Все")]),e("option",{attrs:{value:"active"}},[t._v("Активные")]),e("option",{attrs:{value:"completed"}},[t._v("Выполненные")])])])},w=[],y=a("2f62"),C={computed:{...Object(y["d"])(["filter","search"])},methods:{...Object(y["c"])(["setFilter","setSearch"]),updateFilter(t){this.setFilter(t.target.value)},updateSearch(t){this.setSearch(t.target.value)}}},O=C,j=(a("5f98"),Object(p["a"])(O,g,w,!1,null,"014e8d37",null)),x=j.exports,M={components:{TodoItem:m,TodoModal:_,TodoFilters:x},data(){return{showModal:!1,selectedTask:null}},computed:{...Object(y["d"])(["tasks","filter","search"]),filteredTasks(){return this.tasks.filter(t=>t.title.toLowerCase().includes(this.search.toLowerCase())).filter(t=>"active"===this.filter?!t.completed:"completed"!==this.filter||t.completed)}},methods:{...Object(y["b"])(["addTask","updateTask","deleteTask","clearCompleted","fetchTasks"]),openModal(){this.selectedTask={title:"",completed:!1},this.showModal=!0},closeModal(){this.showModal=!1,this.selectedTask=null},saveTask(t){t.id?this.updateTask(t):this.addTask({...t,id:Date.now(),createdAt:new Date}),this.closeModal()},editTask(t){this.selectedTask={...t},this.showModal=!0},deleteTask(t){this.$store.dispatch("deleteTask",t)}},created(){this.fetchTasks()}},$=M,S=(a("d912"),Object(p["a"])($,r,i,!1,null,"2cb70974",null)),P=S.exports,A={components:{Home:P}},F=A,L=Object(p["a"])(F,o,l,!1,null,null,null),N=L.exports,D=a("bc3a"),I=a.n(D);s["a"].use(y["a"]);var H=new y["a"].Store({state:{tasks:[],filter:"all",search:""},getters:{filteredTasks(t){let e=t.tasks;return t.search&&(e=e.filter(e=>e.title.toLowerCase().includes(t.search.toLowerCase()))),"active"===t.filter?e.filter(t=>!t.completed):"completed"===t.filter?e.filter(t=>t.completed):e}},mutations:{setTasks(t,e){t.tasks=e},addTask(t,e){t.tasks.unshift(e)},updateTask(t,e){const a=t.tasks.findIndex(t=>t.id===e.id);-1!==a&&s["a"].set(t.tasks,a,e)},deleteTask(t,e){t.tasks=t.tasks.filter(t=>t.id!==e)},clearCompleted(t){t.tasks=t.tasks.filter(t=>!t.completed)},setFilter(t,e){t.filter=e},setSearch(t,e){t.search=e}},actions:{async fetchTasks({commit:t}){const{data:e}=await I.a.get("https://jsonplaceholder.typicode.com/todos?_limit=10"),a=e.map(t=>({id:t.id,title:t.title,completed:t.completed,createdAt:new Date}));t("setTasks",a)},clearCompleted({commit:t}){t("clearCompleted")},deleteTask({commit:t},e){t("deleteTask",e)},updateTask({commit:t},e){t("updateTask",e)},addTask({commit:t},e){t("addTask",e)}}});a("2fc4");s["a"].config.productionTip=!1,new s["a"]({store:H,render:t=>t(N)}).$mount("#app")},"5f98":function(t,e,a){"use strict";a("a52b")},"722f":function(t,e,a){"use strict";a("0a74")},"7fbf":function(t,e,a){},"8f95":function(t,e,a){},a52b:function(t,e,a){},d912:function(t,e,a){"use strict";a("8f95")},fe86:function(t,e,a){"use strict";a("7fbf")}});
//# sourceMappingURL=app.19a048e1.js.map